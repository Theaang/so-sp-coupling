---
title: "Wrangle"
format: pdf
editor: visual
---

```{r}
#| label: setup
#| include: false
library(mosaic)
library(tidyverse)
library(knitr)
library(kableExtra)
library(tidyr)
library(Stat2Data)
library(dplyr)
library(meta)
library(metafor)
library(dmetar)
library(metaDigitise)
library(ICC)
library(wildmeta)
library(future)
library(shinyDigitise)
library(CircStats)
library(Directional)
options(digits = 4)
knitr::opts_chunk$set(fig.pos = "H", out.extra = "",
                      tidy=FALSE, size="small")
```

```{r}
exl <- readxl::read_excel("/Users/thea/Downloads/jopd-5-33-s2.xlsx")
```

```{r}
exl_filtered <- exl |>
  filter(Type_of_ES %in% c("Pearson's r", "Corrected Pearson's r", "Weighted Pearson's r", "Weighted corrected Pearson's r"))
exl_filtered
```

```{r}
knitr::kable(favstats(exl_filtered$tau))
```

```{r}
library(extraDistr)
curve(dht(x, 3, 0.5), 0, 3, col = "blue", ylab = "Density", xlab = "Heterogeneity (\u03C4)", lwd = 2)
curve(dhcauchy(x, 0.5), 0, 3, col = "red", add = TRUE, lwd = 2)
curve(dhcauchy(x, 0.13), 0, 3, col = "orange", add = TRUE, lwd = 2)
curve(dhnorm(x, 0.5), 0, 3, col = "black", add = TRUE, lwd = 2)
abline(v = 1, col = "gray", lty = 2)
legend("topright", legend = c("Half-Student-t (0, 3, 0.5)", "Half-Cauchy (0, 0.5)", "Half-Cauchy (0, 0.13)", "Half-Normal (0, 0.5)"), col = c("blue", "red","orange","black"), lwd = 2, bty = "n")
```
